description: >
  docker-push

parameters:
  image_repo:
    description: "The repository in ECR to push images too."
    type: string
  image_tag:
    description: "The tag we want to use to push our docker image -- GIT_SHA ENV variable is here as well as all of our circle variables"
    type: string
    default: "${CIRCLE_BRANCH}.${GIT_SHA}"
steps:
  - run:
      name: "Login"
      command: <<include(scripts/docker_push_login.sh)>>
  - run:
      name: "Set environment variables and push"
      command: <<include(scripts/docker_push.sh)>>
